define(["jquery","shop_cart/shop_cart"],function(a,b){function c(b){var c=[];return b.each(function(){c.push(a(this).offset())}),c}console.log("cate list loaded");var d,e=function(){var a=1,b=0;return function(c){return a=c>b?1:-1,b=c,a}}(),f=a(".menu_toolbar"),g=f.offset(),h=a(".toolBar_toggle"),i=a(".drop_down_menu"),j=a(".classify_sec"),k=a(".sec_title"),l=a(".toolbar_text").find("span"),m=a(".res_info_header").data("shop_id"),n=0,o=!1;a(window).scrollTop()>=g.top&&(f.css({position:"fixed",top:0}),h.fadeIn(300)),h.on("click",function(){i.toggle()}),a(".cate_view").on("click",".rst-d-act-add",function(){var c=a(this).parents(".menu_list_block").data("good_id");return console.log(c),b.add(c,m),!1}),a(window).on("scroll",function(){var b,i,m,p=a(window).scrollTop(),q=c(j),r=e(p),s=p>=g.top;if(s!=d&&(o=!0,d=s),s&&o?(f.css({position:"fixed",top:0}),h.fadeIn(300),o=!1):!s&&o&&(f.css({position:"absolute",top:"auto"}),h.fadeOut(300),o=!1),s&&1===r){if(n+1>=q.length)return;b=q[n+1],p+10>b.top&&(m=k.eq(n+1).find("span").html(),n++,l.html(m))}else if(s&&-1===r){if(0>n-1)return;i=q[n],p+10<i.top&&(m=k.eq(n-1).find("span").html(),n--,l.html(m))}})});