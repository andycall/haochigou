define(["jquery","shop/port"],function(a,b){function c(c){a.post(b.shopFavor,c,function(b){if("object"!=typeof b)try{b=a.parseJSON(b)}catch(c){alert("服务器数据错误！！！")}"true"!=b.success&&(alert(b.errMsg?b.errMsg:"收藏失败!"),$favorBar.toggleClass("on"),$favorStatus.text("收藏餐厅"))})}function d(c){a.post(b.delShopFavor,c,function(b){if("object"!=typeof b)try{b=a.parseJSON(b)}catch(c){alert("服务器数据错误！！！")}"true"!=b.success&&(alert(b.errMsg?b.errMsg:"取消收藏失败!"),$favorBar.toggleClass("on"),$favorStatus.text("已收藏"))})}console.log("shop collection bar loaded"),a(".js-fav-shop").on("click",function(){var b=a(this),e=b.find(".glyph"),f=b.find(".status"),g={shop_id:"",shop_name:""};e.toggleClass("on"),e.hasClass("on")?(f.text("已收藏"),c(g)):(f.text("收藏餐厅"),d(g))})});